{% extends 'base.html.twig' %}

{% block title %}Groups{% endblock %}

{% block body %}
        {% for message in app.flashes('notice') %}
            <div class="alert alert--success">
                {{ message }}
            </div>
        {% endfor %}
        <h2 class="center-align">
            Groups
        </h2>
        <a class="blue darken-3 hoverable add-button pulse" href="{{ path('group.create') }}">
            <i class="add-button__icon material-icons">
                add
            </i>
        </a>
        <table class="table">
            <thead>
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">Address</th>
                    <th scope="col">Start date</th>
                    <th scope="col">End date</th>
                    <th scope="col">Participants</th>
                </tr>
            </thead>
            {% for group in groups %}
                <tr>
                    <td scope="row">{{ group.id }}</td>
                    <td>
                        <a href="{{ path('group.view', {'group': group.id}) }}">
                            {{ group.address }}
                        </a>
                    </td>
                    <td>
                        {{ group.startDate|date('Y-m-d') }}
                    </td>
                    <td>
                        {{ group.endDate|date('Y-m-d') }}
                    </td>
                    <td>
                        {{ group.participants|length }}
                    </td>
                </tr>
            {% endfor %}
        </table>
{% endblock %}